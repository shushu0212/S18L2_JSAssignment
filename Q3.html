<!DOCTYPE html>
<html>
  <head>
    <title></title>
  </head>
  <body>
    <div>
      <input type="text" id="input">
      <button onclick="createToDo()">+</button>

      <div id="todolist">
      </div>
    </div>

    <script>
      function createToDo() {
        var todo = document.createElement("div");
        var span = document.createElement("span");
        var input = document.getElementById("input");
        var todolist = document.getElementById("todolist")
        if (input.value == "") {
          input.value = "廢文一篇";
        }
        span.innerHTML = input.value;
        todo.appendChild(span);
        todolist.appendChild(todo);
        input.value = "";

        var replaceButton = document.createElement("button");
        replaceButton.textContent = "R";
        todo.appendChild(replaceButton);

        replaceButton.onclick = function() {
          if (input.value =="") {
            alert("你沒有輸入任何文字");
            return;
          }
          this.parentNode.firstChild.innerHTML = input.value; 
          input.value = "";
        }

        var removeButton = document.createElement("button");
        removeButton.textContent = "V";
        todo.appendChild(removeButton);

        removeButton.onclick = function() {
          var r = confirm("是否確定完成？");
          if (r == true) {
            this.parentNode.parentNode.removeChild(this.parentNode); 
          }
        }

      }

    </script>

  </body>
</html>